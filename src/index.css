@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Noto+Sans+Arabic:wght@400;500;600;700&display=swap');
@import "tailwindcss";

* {
  @apply transition-colors duration-300;
}

html {
  @apply bg-white text-stone-900;
  background-color: #ffffff !important;
}

html.dark {
  @apply bg-stone-950 text-stone-100;
  background-color: #030712 !important;
}

body {
  @apply bg-white text-stone-900;
  background-color: #ffffff !important;
}

html.dark body {
  @apply bg-stone-950 text-stone-100;
  background-color: #030712 !important;
}

body {
  direction: rtl;
  @apply bg-white text-stone-900;
  font-family: "Inter", "Noto Sans Arabic", ui-sans-serif, system-ui, sans-serif;
}

html.dark body {
  @apply bg-stone-950 text-stone-100;
}

.glass {
  background-color: rgba(255, 255, 255, 0.85);
  backdrop-filter: blur(12px);
  border: 1px solid rgba(255, 255, 255, 0.3);
  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
}

html.dark .glass {
  background-color: rgba(3, 7, 18, 0.85);
  border: 1px solid rgba(120, 113, 108, 0.2);
  box-shadow: 0 1px 2px 0 rgba(255, 255, 255, 0.05);
  color: #e7e5e4;
}

.btn-primary {
  @apply bg-red-700 text-white px-6 py-2 rounded-lg font-medium hover:bg-red-800 transition-colors shadow-sm active:scale-95;
}

html.dark .btn-primary {
  @apply bg-red-600 hover:bg-red-700;
}

.input-field {
  @apply w-full px-4 py-2 rounded-lg border border-stone-200 focus:outline-none focus:ring-2 focus:border-red-500 transition-all bg-white text-stone-900;
  /* Avoid focus:ring-red-500/20 which might use oklch */
}

html.dark .input-field {
  @apply bg-stone-800 border-stone-700 text-stone-100 focus:border-red-400;
}

.signature-canvas {
  width: 100% !important;
  height: 100% !important;
}

@media print {
  body * {
    visibility: hidden;
  }
  #print-section, #print-section * {
    visibility: visible;
  }
  #print-section {
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    margin: 0;
    padding: 0;
  }
  .no-print {
    display: none !important;
  }
}

.pdf-section {
  page-break-inside: avoid !important;
  break-inside: avoid !important;
  position: relative;
  margin-bottom: 2rem !important;
  padding-bottom: 2rem !important;
  display: block !important;
  width: 100% !important;
}

.pdf-section + .pdf-section {
  page-break-before: always !important;
}

/* PDF-specific optimizations */
@media print {
  body {
    margin: 0;
    padding: 0;
    background: white;
  }

  #print-section {
    margin: 0;
    padding: 50px;
    width: 100%;
    display: block;
    background: white;
  }

  img {
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
    color-adjust: exact;
    max-width: 100% !important;
    height: auto !important;
    display: block !important;
    width: 100% !important;
    min-height: 350px !important;
    object-fit: contain !important;
  }

  .pdf-section {
    page-break-inside: avoid !important;
    break-inside: avoid !important;
    margin-bottom: 3rem !important;
    padding-bottom: 3rem !important;
    display: block !important;
    width: 100% !important;
    page-break-before: always !important;
  }

  .pdf-section > div,
  .pdf-section > div > div {
    page-break-inside: avoid !important;
    break-inside: avoid !important;
  }

  /* Ensure image containers are properly sized */
  div[style*="flexDirection"] {
    width: 100% !important;
    display: flex !important;
    flex-direction: column !important;
  }

  .pdf-section:first-child {
    page-break-before: avoid !important;
  }

  /* Force page breaks for specific sections */
  .pdf-section:nth-of-type(1):not(:first-child) {
    page-break-before: always !important;
  }
  
  .pdf-section:nth-of-type(2):not(:first-child) {
    page-break-before: always !important;
  }
  
  .pdf-section:nth-of-type(3):not(:first-child) {
    page-break-before: always !important;
  }
  
  .pdf-section:nth-of-type(4):not(:first-child) {
    page-break-before: always !important;
  }
}

